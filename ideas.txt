специализация - класс или архетип

sources_to_classes - каждому источнику соответствует набор классов, что он превносит
sources_to_archetypes - так же у каждого источника есть набор архетипов,
архетипы ссылаются на класс, которому они принадлежат. Класс может находиться в другом
источнике. При подключении источника проходят проверку все его архетипы. Если какой-то из них
ссылается на класс, которого нет в данной выборке источников, то архетип не подключается. Остальные
классы и архетипы источника продолжают работать.
spells_to_caster_specs - соответствие каждого заклинания и специализации (класса или архетипа)
Для каждого заклинания рассматривается то, какие специализации могут его использовать.
Учитывая разные подмножества используемых источников, это могут быть разные выборки специализаций.

Расширенный пул заклинаний - аналогично, ставится соответствие заклинания и специализации
Набор всегда подготовленных заклинаний - как правило имеет ограничение вроде уровня
заклинателя, зависит как от расы (тут можно добавить новую базу данных с sources_to_races)
Надо подумать с подготовленными. Пока останется на потом.

Поиск в системе должен быть простой, по фильтрам.

Должен быть режим отыгрыша по набору, с учетом уровня, расы и запоминания ячеек.